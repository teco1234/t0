<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="c.css">
        <script src="j.js"></script>
    </head>
    <body>
        <p id="p0">Soma</p>
        <fieldset id="f0" class="f">
            <p id="p1">-</p>
            <p id="p2">-</p>
            <fieldset id="f1"></fieldset>
            <p id="p3">-</p>
            <button id="b0" class="b">Reiniciar</button>
        </fieldset>

        <script>
            s=['Calcule','Digite o resultado','Resposta','|','-',
                'Acertou!','Errou!'
            ]; 
            q=[],n=[],r=[],b=[],br=[]
            let g,ct

            function ini(){
                q[0]=4
                q[1]=12
                g=10
            }ini()

            function dados(){
                
            }

            function rei(){
                r[0]=''
                r[1]=0
                r[2]=''
                cr0(p0)
                cr0(p2)
                cr0(p3)
                ie(p0,s[0])
                ie(p2,s[3])
                ie(p3,s[4])

                for(let i=0; i<q[1]; i++){
                    n[i]=mt(g,1)
                    if(i<q[0]){
                        if(i<q[0]-1)r[0]+=n[i]+' + '
                        else r[0]+=n[i]+' = ';

                        r[1]+=n[i];
                    }
                }
                ie(p1,r[0])

                ct=0

            }rei()

            function bt(){
                for(let i=0; i<10; i++){
                    b[i]=cr('button')
                    b[i].innerHTML=i;
                    b[i].className='b';
                    f1.appendChild(b[i]);
                    b[i].addEventListener('click',()=>{
                        if(ct<r[1].toString().length){
                            r[2]+=i;
                            ie(p2,r[2]);
                            ct++
                            if(ct==r[1].toString().length){
                                if(r[2]==r[1]){
                                    cr1(p0)
                                    ie(p0,s[5])
                                    if(g<99)g++
                                }else{
                                    cr2(p0)
                                    ie(p0,s[6])
                                    cr2(p3)
                                    p3.innerHTML='Total \u00A0 = \u00A0'+r[1];
                                    g=10
                                }
                            }
                        }
                    });

                    if(i==4){
                        br[0]=document.createElement('br');
                        f1.appendChild(br[0]);
                    }
                }
            }bt()

            function mtc(a){
                for(let i=0; i<a.length; i++){
                    co(a[i]);
                }
            }
            function co(v){console.log(v)}
            b0.addEventListener('click',()=>{
                rei()
            });

            function cr0(v){
                v.style.backgroundColor=null
                v.style.color='black'
            }
            function cr1(v){
                v.style.backgroundColor='green'
                v.style.color='white'
            }
            function cr2(v){
                v.style.backgroundColor='red'
                v.style.color='white'
            }
        </script>
    </body>
</html>